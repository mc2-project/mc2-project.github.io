<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Installation" href="install/install.html" /><link rel="prev" title="CLI Reference" href="../../client-docs/cli/api.html" />

    <link rel="shortcut icon" href="../../_static/favicon.png"/><meta name="generator" content="sphinx-4.1.2, furo 2021.08.31"/>
        <title>Welcome to Opaque SQL’s documentation! - MC2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=c7c65a82b42f6b978e58466c1e9ef2509836d916" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #00B0FF;
  --color-brand-content: #00B0FF;
  --color-admonition-background: orange;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">MC<sup>2</sup>  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">What is MC²?</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../documentation.html">Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../client-docs/index.html">MC² Client</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../client-docs/install.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-docs/quickstart.html">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../client-docs/opaquesql_usage.html">Usage with Opaque SQL</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-docs/config/index.html">Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/config/config.html">Global Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/config/azure.html">Azure Configuration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-docs/python/index.html">Python Interface</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/python/usage.html">Python Package Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/python/api.html">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../client-docs/cli/index.html">CLI Interface</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/cli/usage.html">CLI Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../client-docs/cli/api.html">CLI Reference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">Opaque SQL</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="install/install.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage/client.html">Query submission via the MC<sup>2</sup> Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage/untrusted.html">Query submission via the Spark Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage/usage.html">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage/functionality.html">Supported functionalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="benchmarking/benchmarking.html">Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing/contributing.html">Contributing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/mc2-project/mc2">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <article role="main">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <section id="welcome-to-opaque-sql-s-documentation">
<h1>Welcome to Opaque SQL’s documentation!<a class="headerlink" href="#welcome-to-opaque-sql-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Opaque SQL is a package for Apache Spark SQL that enables encryption for DataFrames using the OpenEnclave framework. The aim is to enable analytics on sensitive data in an untrusted cloud. Once the contents of a DataFrame are encrypted, subsequent operations will run within hardware enclaves (such as Intel SGX).</p>
<p>This project is based on our NSDI 2017 paper [1]. The oblivious execution mode is currently not included in this release.</p>
<p>This is an alpha preview of Opaque SQL, and the software is still in active development.
It currently has the following limitations:</p>
<ul class="simple">
<li><p>Not all Spark SQL operations are supported (see the <a class="reference internal" href="usage/functionality.html#functionalities"><span class="std std-ref">list of supported functionalities</span></a>). UDFs must be <a class="reference internal" href="usage/functionality.html#udfs"><span class="std std-ref">implemented in C++</span></a></p></li>
<li><p>Computation integrity verification (section 4.2 of the NSDI paper) is currently work in progress.</p></li>
</ul>
<p>[1] Wenting Zheng, Ankur Dave, Jethro Beekman, Raluca Ada Popa, Joseph Gonzalez, and Ion Stoica.
<a class="reference external" href="https://www.usenix.org/system/files/conference/nsdi17/nsdi17-zheng.pdf">Opaque: An Oblivious and Encrypted Distributed Analytics Platform</a>. NSDI 2017, March 2017.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Table of contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install/install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install/install.html#using-the-install-script">Using the install script</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/install.html#installing-dependencies-manually">Installing dependencies manually</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/install.html#running-tests">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/install.html#additional-configurations-for-running-on-a-spark-cluster">Additional configurations for running on a Spark cluster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage/client.html">Query submission via the MC<sup>2</sup> Client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage/client.html#starting-the-grpc-listeners">Starting the gRPC Listeners</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/client.html#using-the-mc2-client">Using the MC<sup>2</sup> Client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage/untrusted.html">Query submission via the Spark Driver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage/untrusted.html#starting-opaque-sql">Starting Opaque SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/untrusted.html#encrypting-a-dataframe-with-the-driver">Encrypting a DataFrame with the Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage/usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage/usage.html#saving-a-dataframe">Saving a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/usage.html#using-the-dataframe-interface">Using the DataFrame interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/usage.html#using-the-sql-interface">Using the SQL interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage/functionality.html">Supported functionalities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage/functionality.html#sql-interface">SQL interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/functionality.html#dataframe-interface">DataFrame interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage/functionality.html#user-defined-functions-udfs">User-Defined Functions (UDFs)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="benchmarking/benchmarking.html">Benchmarking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="benchmarking/benchmarking.html#running-on-your-own-cluster">Running on your own cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="benchmarking/benchmarking.html#our-tpc-h-results">Our TPC-H results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing/contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing/contributing.html#submitting-a-pull-request">Submitting a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing/contributing.html#debugging-your-changes">Debugging your changes</a></li>
</ul>
</li>
</ul>
</div>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="install/install.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Installation</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../../client-docs/cli/api.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">CLI Reference</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, MC² Contributors
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../../_sources/opaque-sql-docs/src/index.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/main.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    </body>
</html>